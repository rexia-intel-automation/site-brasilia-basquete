# EXEMPLOS DE USO - API DE JOGADORES

## üìã Gerenciamento de Jogadores do Elenco

### Token de Autentica√ß√£o
```
basquete_token_@@_2025
```

---

## 1Ô∏è‚É£ ADICIONAR NOVO JOGADOR

### cURL:
```bash
curl -X POST https://seudominio.com.br/save-players.php \
  -H "Content-Type: application/json" \
  -d '{
    "token": "basquete_token_@@_2025",
    "action": "add",
    "player": {
      "number": "23",
      "name": "Jo√£o Silva",
      "position": "Armador",
      "photo": "https://i.imgur.com/exemplo123.jpg",
      "height": "1.88m",
      "weight": "85kg",
      "birthdate": "1995-05-20",
      "nationality": "Brasileiro",
      "bio": "Jogador experiente com passagens por v√°rios times",
      "stats": {
        "points": 14.5,
        "assists": 5.2,
        "rebounds": 3.1
      },
      "social": {
        "instagram": "https://instagram.com/joaosilva",
        "twitter": "https://twitter.com/joaosilva"
      }
    }
  }'
```

### Postman/Insomnia:
- **M√©todo:** POST
- **URL:** `https://seudominio.com.br/save-players.php`
- **Headers:** 
  - `Content-Type: application/json`
- **Body (raw JSON):**
```json
{
  "token": "basquete_token_@@_2025",
  "action": "add",
  "player": {
    "number": "23",
    "name": "Jo√£o Silva",
    "position": "Armador",
    "photo": "https://i.imgur.com/exemplo123.jpg",
    "height": "1.88m",
    "weight": "85kg",
    "birthdate": "1995-05-20",
    "nationality": "Brasileiro",
    "bio": "Jogador experiente",
    "stats": {
      "points": 14.5,
      "assists": 5.2,
      "rebounds": 3.1
    },
    "social": {
      "instagram": "https://instagram.com/joaosilva",
      "twitter": ""
    }
  }
}
```

---

## 2Ô∏è‚É£ ATUALIZAR JOGADOR EXISTENTE

Para atualizar, use o mesmo n√∫mero de camisa. O sistema identifica e atualiza automaticamente.

### cURL:
```bash
curl -X POST https://seudominio.com.br/save-players.php \
  -H "Content-Type: application/json" \
  -d '{
    "token": "basquete_token_@@_2025",
    "action": "update",
    "player": {
      "number": "1",
      "name": "Mosquito",
      "position": "Armador",
      "photo": "https://i.imgur.com/NOVA_FOTO.jpg",
      "height": "1.85m",
      "weight": "82kg",
      "birthdate": "1995-03-15",
      "nationality": "Brasileiro",
      "bio": "Armador experiente - BIOGRAFIA ATUALIZADA",
      "stats": {
        "points": 15.2,
        "assists": 7.1,
        "rebounds": 3.0
      },
      "social": {
        "instagram": "https://instagram.com/mosquito_oficial",
        "twitter": "https://twitter.com/mosquito"
      }
    }
  }'
```

---

## 3Ô∏è‚É£ DELETAR JOGADOR

### cURL:
```bash
curl -X POST https://seudominio.com.br/save-players.php \
  -H "Content-Type: application/json" \
  -d '{
    "token": "basquete_token_@@_2025",
    "action": "delete",
    "number": "23"
  }'
```

### JSON:
```json
{
  "token": "basquete_token_@@_2025",
  "action": "delete",
  "number": "23"
}
```

---

## 4Ô∏è‚É£ LISTAR TODOS OS JOGADORES

### cURL:
```bash
curl https://seudominio.com.br/get-players.php
```

### No navegador:
```
https://seudominio.com.br/get-players.php
```

---

## 5Ô∏è‚É£ BUSCAR JOGADOR ESPEC√çFICO

### cURL:
```bash
curl https://seudominio.com.br/get-players.php?number=1
```

### No navegador:
```
https://seudominio.com.br/get-players.php?number=1
```

---

## üì∏ TROCAR FOTO DE UM JOGADOR

Para trocar apenas a foto, atualize o jogador com a nova URL:

```bash
curl -X POST https://seudominio.com.br/save-players.php \
  -H "Content-Type: application/json" \
  -d '{
    "token": "basquete_token_@@_2025",
    "action": "update",
    "player": {
      "number": "11",
      "name": "Brun√£o",
      "position": "Piv√¥",
      "photo": "https://i.imgur.com/NOVA_FOTO_BRUNAO.jpg",
      "height": "2.08m",
      "weight": "108kg",
      "birthdate": "1990-02-14",
      "nationality": "Brasileiro",
      "bio": "Piv√¥ experiente, domina o garraf√£o",
      "stats": {
        "points": 14.6,
        "assists": 1.2,
        "rebounds": 9.3
      },
      "social": {
        "instagram": "https://instagram.com/brunao",
        "twitter": ""
      }
    }
  }'
```

---

## üìä ATUALIZAR ESTAT√çSTICAS

Para atualizar apenas as estat√≠sticas:

```bash
curl -X POST https://seudominio.com.br/save-players.php \
  -H "Content-Type: application/json" \
  -d '{
    "token": "basquete_token_@@_2025",
    "action": "update",
    "player": {
      "number": "2",
      "name": "Crescenzi",
      "position": "Ala-armador",
      "photo": "https://i.imgur.com/DsFTwbS.jpeg",
      "height": "1.95m",
      "weight": "88kg",
      "birthdate": "1993-07-22",
      "nationality": "Brasileiro",
      "bio": "Ala vers√°til com √≥timo arremesso",
      "stats": {
        "points": 18.5,
        "assists": 4.2,
        "rebounds": 5.1
      },
      "social": {
        "instagram": "https://instagram.com/crescenzi",
        "twitter": "https://twitter.com/crescenzi"
      }
    }
  }'
```

---

## ‚ö†Ô∏è CAMPOS OBRIGAT√ìRIOS

Ao adicionar ou atualizar um jogador, os seguintes campos s√£o **obrigat√≥rios**:

- ‚úÖ `number` - N√∫mero da camisa (string)
- ‚úÖ `name` - Nome do jogador
- ‚úÖ `position` - Posi√ß√£o em quadra
- ‚úÖ `photo` - URL da foto

### Campos Opcionais:

- `height` - Altura
- `weight` - Peso
- `birthdate` - Data de nascimento
- `nationality` - Nacionalidade
- `bio` - Biografia
- `stats` - Estat√≠sticas (objeto com points, assists, rebounds)
- `social` - Redes sociais (objeto com instagram, twitter)

---

## üéØ POSI√á√ïES V√ÅLIDAS

- Armador
- Ala-armador
- Ala
- Ala-Piv√¥
- Piv√¥

---

## ‚úÖ RESPOSTAS DA API

### Sucesso (Adicionar):
```json
{
  "status": "ok",
  "action": "added",
  "totalPlayers": 14,
  "message": "Added successfully"
}
```

### Sucesso (Atualizar):
```json
{
  "status": "ok",
  "action": "updated",
  "totalPlayers": 13,
  "message": "Updated successfully"
}
```

### Sucesso (Deletar):
```json
{
  "status": "ok",
  "action": "deleted",
  "totalPlayers": 12,
  "message": "Deleted successfully"
}
```

### Erro (Token inv√°lido):
```json
{
  "error": "Unauthorized"
}
```

### Erro (Campo obrigat√≥rio faltando):
```json
{
  "error": "Missing required field: photo"
}
```

---

## üîê SEGURAN√áA

‚ö†Ô∏è **IMPORTANTE:** Altere o token antes de colocar em produ√ß√£o!

No arquivo `save-players.php`, linha 10:
```php
$SECRET_TOKEN = 'SEU_TOKEN_SUPER_SEGURO_AQUI';
```

---

## üì± INTEGRA√á√ÉO COM O SITE

O arquivo `index.html` j√° est√° configurado para carregar os jogadores automaticamente do `players.json` atrav√©s do `get-players.php`.

Quando voc√™ adicionar, atualizar ou deletar um jogador via API, o site refletir√° as mudan√ßas automaticamente ao recarregar a p√°gina.

---

## üÜò TROUBLESHOOTING

**Problema:** Jogadores n√£o aparecem no site
**Solu√ß√£o:** 
- Verifique se `players.json` existe em `assets/data/`
- Verifique permiss√µes (666 para players.json, 755 para pastas)
- Verifique se `get-players.php` est√° na raiz do public_html

**Problema:** Erro ao salvar jogador
**Solu√ß√£o:**
- Verifique o token
- Verifique campos obrigat√≥rios
- Verifique permiss√µes do players.json (deve ser 666)

**Problema:** Foto n√£o aparece
**Solu√ß√£o:**
- Use URLs completas (https://...)
- Verifique se a imagem est√° acess√≠vel publicamente
- O sistema usa placeholder autom√°tico se a foto falhar
